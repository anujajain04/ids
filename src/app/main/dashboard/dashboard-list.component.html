<div [@routerTransition]>
    <div class="main-portlet">
        <div class="portlet light portlet-fit portlet-datatable bordered">
            <div class="portlet-title">
                <div class="caption">
                    <img src="../../../assets/global/img/Dashboard icon.svg" style="width: 30px;" />&nbsp;&nbsp; Dashboard List
                </div>

                <div class="row">
                    <div class="col-md-2"></div>
                    <!--<ul class="nav nav-pills">
                        <li><a href="#"><label class="numsize"><label style="color:gray">56</label><small style="color:gray">Views</small></label></a></li>
                        <li><a href="#"><label class="numsize"><label style="color:gray">106</label><small style="color:gray">Views</small></label></a></li>
                        <li><a href="#"><label class="numsize"><label style="color:gray">73</label><small style="color:gray">Views</small></label></a></li>
                        <li><a href="#"><label class="numsize"><label style="color:gray">24</label><small style="color:gray">Views</small></label></a></li>
                        <li><a href="#"><label class="numsize"><label style="color:gray">13</label><small style="color:gray">Views</small></label></a></li>
                    </ul>-->
                </div>

            </div>
            <div class="divheader">
                <span style="padding-left: 30px;padding-right: 20px;">
                    <input [checked]="isAll()" (change)="selectAll($event)" type="checkbox" />
                </span>

                <div class="btn-group bootstrap-select bs-select form-control input-small" style="border-left: 1px solid gainsboro;margin-left:8px">
                    <button type="button" class="btn dropdown-toggle white" (click)="gotocreate()" data-toggle="dropdown" role="button" title="Create New Dashboard" style="width:95px">
                        <span class="filter-option pull-left">Create New</span>
                        <!--<span class="bs-caret"><span class="caret"></span></span>-->
                    </button>
                   
                    <!--<div class="dropdown-menu open" role="combobox">
                        <ul class="dropdown-menu inner" role="listbox" aria-expanded="false">
                            <li data-original-index="0" (click)="createDataset(i?.type)" *ngFor="let i of datatypes" class="selected" value="{{i?.type}}">
                                <a tabindex="0" class="" data-tokens="null" role="option" aria-disabled="false" aria-selected="true">
                                    <img [src]="i.getColorIcon()" border="0" alt="" class="smallmenuimg" /> {{i?.type}}



                            </li>

                        </ul>
                    </div>-->

                </div>
                
                 <button type="button" class="btn dropdown-toggle white" (click)="gotodemo()" data-toggle="dropdown" role="button" title="Create New Dashboard" style="width:95px">
                        <span class="filter-option pull-left">DemoDashboard</span>
                        <!--<span class="bs-caret"><span class="caret"></span></span>-->
                    </button>

                <span class="headspan" *ngIf="deleteDash?.length > 0">
                    <button type="button" class="btn btn-default buttonheader" data-toggle="collapse" data-target="#copy" style="background-color: white;">
                        <span class="glyphicon glyphicon-duplicate"></span> Copy
                    </button>
                </span>
                <span class="headspan" *ngIf="deleteDash?.length > 0">
                    <button type="button" class="btn btn-default buttonheader" data-toggle="collapse" data-target="#move" style="background-color: white;">
                        <span class="glyphicon glyphicon-log-out"></span> Move
                    </button>
                </span>
                <span class="headspan" *ngIf="deleteDash?.length > 0">
                    <button type="button" data-toggle="collapse" data-target="#delete" class="btn btn-default buttonheader" style="background-color: white;">
                        <span class="glyphicon glyphicon-trash"></span> Delete
                    </button>
                </span>

                <span class="searchspan">

                    <input class="form-control" (keyup)="filter($event.target.value)" type="text" placeholder="Search...">

                </span>

            </div>
            <hr />

            <!--Delete Option-->
            <div id="delete" class="collapse out outcollapsecustm">

                <div class="row">
                    <div style="text-align:-webkit-center;"><b>Are You Sure You Want To Delete DashBoard ?</b></div>
                </div>



                <div class="row">
                    <div class="col-sm-4">
                        <span class="input-group-btn" style="float: right" data-toggle="collapse" data-target="#delete">
                            <a href="javascript:;" class="btn btn-yellow" id="username1_checker">
                                <i class="fa fa-times"></i> No
                            </a>
                        </span>
                    </div>
                    <div class="col-sm-2">
                        <span class="input-group-btn" (click)="yes()" data-toggle="collapse" data-target="#delete">
                            <a href="javascript:;" class="btn btn-yellow" style="margin-left:160px;" id="username1_checker">
                                <i class="fa fa-check"></i> Yes
                            </a>
                        </span>
                    </div>
                </div>


            </div>

            <!--Move Option-->

            <div id="move" class="collapse out outcollapsecustm">

                <div class="row" style="padding-top: 12px;">
                    <div class="col-md-4"><b>Move To Workspace :</b></div>
                    <div class="col-sm-4">
                        <select class="form-control" style="margin-left:13px">
                            <option>Workspace 1</option>
                        </select>
                    </div>
                </div>



                <div class="row">
                    <div class="col-sm-4">
                        <span class="input-group-btn" style="float: right" data-toggle="collapse" data-target="#move">
                            <a href="javascript:;" class="btn btn-yellow" id="username1_checker">
                                <i class="fa fa-times"></i> No
                            </a>
                        </span>
                    </div>
                    <div class="col-sm-4">
                        <span class="input-group-btn" (click)="yes()" data-toggle="collapse" data-target="#move">
                            <a href="javascript:;" class="btn btn-yellow" style="margin-left: 276px;" id="username1_checker">
                                <i class="fa fa-check"></i> Yes
                            </a>
                        </span>
                    </div>
                </div>


            </div>


            <!--Copy Option-->

            <div id="copy" class="collapse out outcollapsecustm">

                <div class="row" style="padding-top: 12px;">
                    <div class="col-md-4"><b>Copy To Workspace :</b></div>
                    <div class="col-sm-4">
                        <select class="form-control" style="margin-left:13px">
                            <option>Workspace 1</option>
                        </select>
                    </div>
                </div>



                <div class="row">
                    <div class="col-sm-4">
                        <span class="input-group-btn" style="float: right" data-toggle="collapse" data-target="#move">
                            <a href="javascript:;" class="btn btn-yellow" id="username1_checker">
                                <i class="fa fa-times"></i> No
                            </a>
                        </span>
                    </div>
                    <div class="col-sm-4">
                        <span class="input-group-btn" (click)="yes()" data-toggle="collapse" data-target="#move">
                            <a href="javascript:;" class="btn btn-yellow" style="margin-left: 276px;" id="username1_checker">
                                <i class="fa fa-check"></i> Yes
                            </a>
                        </span>
                    </div>
                </div>
            </div>

            <div class="listscorlbar" id="myGroup">
                <!--<div class="loader"></div>-->

                <div class="row" *ngFor="let i of filterdash; let sr=index">
                    <div class="portlet light portlet-fit portlet-datatable bordered col-sm-2 col-md-2 col-lg-2 divportletcustm1">
                        <input type="checkbox" [checked]="deleteDash.indexOf(i) !== -1" (change)="deletedata($event,i)" class="form-control" style="margin-top: 14px;height: 14px;" />
                        <!--<div class="row">
                            <div class="col-sm-1"> </div>
                            <div class="col-sm-2" style="padding-left:5px"><input type="checkbox" class="form-control" (change)="deletedata($event,i)" style="margin-top: 9px;width: 15px;" /></div>
                        </div>-->
                    </div>


                    <div class="portlet light portlet-fit portlet-datatable bordered col-md-10" style="margin-left: 0px;width: 90%;height:auto;box-shadow: 0px 1px 15px 2px rgba(0, 0, 0, 0.1);">
                        <div class="col-sm-1" style="width:2%"></div>
                        <div class="divlist">
                            <label style="margin-top:17px"><b>{{i?.dashboardTitle}}</b> </label>
                            <span class="headspan">
                                <button data-parent="#myGroup" type="button" class="btn btn-default buttonheader111">
                                    &nbsp;<b style="font-size:10px">Last Updated</b> <br />15 min ago
                                </button>
                            </span>
                        </div>



                        <div class="row" style="margin-bottom: -33px;">
                            <div class="col-sm-12" style="margin-top: 6px;padding-left: 23px;">
                                <label>{{i?.entityName}} : </label>&nbsp; <label>{{i?.entityDescription}}</label>
                            </div>

                        </div>


                        <div class="divheader2">

                            <span class="headspan" *ngIf= "i.dashboardType=='custom'">
                                <button type="button" (click)="gotoedit(i?.entityKey)" class="btn btn-default buttonheader2">
                                    <!--<img src="../../../assets/global/img/Explore Dataset.svg" class="listicon" /> -->
                                    <img src="../../../assets/global/img/edit.svg" class="listicon1" /> &nbsp;<b style="font-size:10px"> Edit</b>
                                </button>
                            </span>

                            <span class="headspan">
                                <button type="button" class="btn btn-default buttonheader2" (click)="gotoexplore(i?.entityKey)">
                                    <img src="../../../assets/global/img/Explore Dataset.svg" class="listicon1" /> &nbsp; <b style="font-size:10px">View Dashboard</b>
                                </button>
                            </span>
                            <span class="headspan">
                                <button type="button" class="btn btn-default buttonheader1" (click)="schedule()">
                                    <img src="../../../assets/global/img/Schedule.svg" class="listicon1" /> &nbsp; <b style="font-size:10px">Schedule</b>
                                </button>
                            </span>
                            <span class="headspan">
                                <button data-parent="#myGroup" type="button" data-toggle="collapse" [attr.data-target]="'#'+sr" class="btn btn-default buttonheader1">
                                    <img src="../../../assets/global/img/Delete.svg" class="listicon1" /> &nbsp;<b style="font-size:10px">Dashboard Details</b>
                                </button>
                            </span>


                            <span class="headspan">
                                <button data-parent="#myGroup" type="button" class="btn btn-default buttonheader1" (click)="gotohistory(i.entityKey)">
                                    &nbsp;<b style="font-size:10px">Type</b> <br /> <b style="font-size:10px">{{i[0]?.dashboardType}}</b>
                                </button>
                            </span>
                        </div>

                    </div>

                    <div id="{{sr}}" class="collapse out outcollapsecustm indent ">

                        <div class="row">
                            <div class="col-md-5"><label class="lblcustm"><b>Dashboard Name: </b>{{i?.entityName}}</label></div>

                            <div class="col-md-5"> <label class="lblcustm"><b>Created Date: </b>{{history?.dsCreateDate}}</label></div>
                        </div>

                        <div class="row">
                            <div class="col-md-5"> <label class="lblcustm"><b>Modified Date: </b>{{history?.dsModifiedDate}}</label></div>

                            <div class="col-md-5"> <label class="lblcustm"><b>Refersh Date: </b>{{history?.dsRefreshDate}}</label></div>
                        </div>
                    </div>
                </div>


            </div>

            <div id="deleteModal" class="modal fade">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" (click)="deleteClick(false)" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Delete</h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-horizontal" id='myForm'>
                                <div class="col-md-7">
                                    Are you sure to delete?
                                </div>

                            </div>
                        </div>
                        <div class="modal-footer">
                            <div style="float:right">
                                <button type="button" data-dismiss="modal" (click)="deleteClick(false)" class="btn btn-warning">Cancel</button>
                                <button type="button" data-dismiss="modal" (click)="deleteClick(true)" class="btn btn-danger">Delete</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <!--pagination-->
            <div class="container">
                <ul class="pagination" style="float:right" id="pager">
                    <li (click)="previous()"><a><i class="fa fa-angle-left fa-mid"></i></a></li>
                    <li *ngFor="let p of arr" (click)="changePage(p)" [ngClass]="currentPage==p?'active':'disable'"><a>{{p}}</a></li>
                    <li (click)="next()"><a><i class="fa fa-angle-right fa-mid"></i></a></li>
                </ul>
            </div>

        </div>
    </div>
</div>
